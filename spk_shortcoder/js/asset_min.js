function SCdivShow(){jQuery("#sc_div").is(":hidden")&&jQuery("#sc_div").removeClass("hideme")}function SCdivHide(){jQuery("#sc_div").is(":visible")&&jQuery("#sc_div").addClass("hideme")}function inputFocus(a){a.value==a.defaultValue&&(a.value="",jQuery(a).removeClass("blurredDefaultText"))}function inputBlur(a){""!=a.value&&a.value!=a.defaultValue||(a.value=a.defaultValue,jQuery(a).addClass("blurredDefaultText"))}function PreventDefaultKeys(a){(a.which<48||a.which>57&&a.which<97||a.which>122)&&95!=a.which&&a.preventDefault()}function FilterString(a){return a.replace(/[^a-z0-9\s]/gi,"").replace(/[-\s]/g,"_").toLowerCase()}function ShowThisSC(b,c){var d,e;if(c)for(a=1;a<=c;a++)jQuery("#att_name_"+a).val().length>0&&(null===d||void 0===d?(d=jQuery("#att_name_"+a).val()+'="'+jQuery("#att_val_"+a).val()+'"',c>1&&(d+=" ")):(d+=jQuery("#att_name_"+a).val()+'="'+jQuery("#att_val_"+a).val()+'"',a<c&&(d+=" ")));if(jQuery("#gpost_opt").is(":checked")?(e=' id="" slug="" title=""',jQuery("#sc_div_gpost_opt").hasClass("hideme")&&b&&jQuery("#sc_div_gpost_opt").removeClass("hideme")):(e="",jQuery("#sc_div_gpost_opt").hasClass("hideme")||jQuery("#sc_div_gpost_opt").addClass("hideme")),d)var f=" "+d;else var f="";jQuery("#this_shortcode").html("Your shortcode is:<br />"),jQuery("#this_shortcode_box").val("["+b+f+e+"]{@content}[/"+b+"]")}function copyToClipboardMsg(a,b){var d,c=copyToClipboard(a);d=c?"Shortcode copied.":"Copy not supported or blocked. Press Ctrl+c to copy.","string"==typeof b&&(b=document.getElementById(b)),b.innerHTML=d,setTimeout(function(){b.innerHTML=""},2e3)}function copyToClipboard(a){var d,e,b="_hiddenCopyText_",c="INPUT"===a.tagName||"TEXTAREA"===a.tagName;if(c)f=a,d=a.selectionStart,e=a.selectionEnd;else{if(!(f=document.getElementById(b))){var f=document.createElement("textarea");f.style.position="absolute",f.style.left="-9999px",f.style.top="0",f.id=b,document.body.appendChild(f)}f.textContent=a.textContent}var g=document.activeElement;f.focus(),f.setSelectionRange(0,f.value.length);var h;try{h=document.execCommand("copy")}catch(a){h=!1}return g&&"function"==typeof g.focus&&g.focus(),c?a.setSelectionRange(d,e):f.textContent="",h}function ListAttributesDisplayed(){var b,d,c=jQuery("#att_counter").val();for(a=1;a<=c;a++)if(jQuery("#att_name_"+a).val().length>0){var e='<a class="onmouseover" id="lattname_'+a+'">{@'+jQuery("#att_name_"+a).val()+"}</a>";null===b||void 0===b?b=e:b+=e,a<c&&(b+=", ")}d=b?"Attribute(s): "+b+'<br />Optional attribute: <a class="onmouseover" id="sc_main_content">{@content}</a>':'Optional attribute: <a class="onmouseover" id="sc_main_content">{@content}</a>',jQuery("#spk_att_list").html(d)}function getSelectedText(){var a="";return void 0!==window.getSelection?a=window.getSelection().toString():void 0!==document.selection&&"Text"==document.selection.type&&(a=document.selection.createRange().text),a}function insertAtCaret(a,b){var c=document.getElementById(a);if(c){var d=c.scrollTop,e=0,f=c.selectionStart||"0"==c.selectionStart?"ff":!!document.selection&&"ie";if("ie"==f){c.focus();var g=document.selection.createRange();g.moveStart("character",-c.value.length),e=g.text.length}else"ff"==f&&(e=c.selectionStart);var h=c.value.substring(0,e),i=c.value.substring(e,c.value.length);if(c.value=h+b+i,e+=b.length,"ie"==f){c.focus();var j=document.selection.createRange();j.moveStart("character",-c.value.length),j.moveStart("character",e),j.moveEnd("character",0),j.select()}else"ff"==f&&(c.selectionStart=e,c.selectionEnd=e,c.focus());c.scrollTop=d}}function EnableDisableDropDowns(a){jQuery("[id^=dt_]").each(function(){"disable"==a?jQuery(this).attr("disabled",!0):jQuery(this).removeAttr("disabled")})}function ShowHideBtnCPTClear(a){jQuery("#cpt_clear").hasClass("hideme")?"show"==a&&jQuery("#cpt_clear").removeClass("hideme"):"hide"==a&&jQuery("#cpt_clear").addClass("hideme")}function HideOthersBut(a){var b=0;jQuery("[id^=dt_]").each(function(){jQuery(this).is(":visible")&&jQuery(this).attr("id")!=a&&(jQuery(this).fadeOut(FadeSpeed,function(){jQuery(a).length&&jQuery(a).fadeIn(FadeSpeed),ListCustomFields(jQuery(a).val()),ListTaxonomies(jQuery(a).val())}),b++)}),0==b&&(jQuery(a).length&&jQuery(a).fadeIn(FadeSpeed),ListCustomFields(jQuery(a).val()),ListTaxonomies(jQuery(a).val()))}function ListCustomFields(a){jQuery.ajax({type:"POST",url:FileLoc+"get_custom_fields.php",data:"pid="+a,datatype:"html",success:function(a){jQuery("#putcustomfieldshere").html(a)}})}function ListTaxonomies(a){jQuery.ajax({type:"POST",url:FileLoc+"get_my_taxonomies.php",data:"pid="+a,datatype:"html",success:function(a){jQuery("#puttaxeshere").html(a)}})}function CheckForVisibleSelect(){jQuery("[id^=dt_]").each(function(){jQuery(this).hasClass("hideme")||(ListCustomFields(jQuery(this).val()),ListTaxonomies(jQuery(this).val()))})}var FadeSpeed="fast",FileLoc=location.protocol+"//"+location.host+"/wp-content/plugins/spk_shortcoder/php/",MaxAtts=20;jQuery(document).ready(function(){for(jQuery('label[for="slugdiv-hide"]').hide(),jQuery("#spk_shortcoders_box_4-hide").is(":checked")||jQuery("#spk_shortcoders_box_4-hide").prop("checked",!0),a=1;a<=MaxAtts;a++)0==jQuery("#att_name_"+a).val().length&&inputBlur(jQuery("#att_name_"+a)),0==jQuery("#att_val_"+a).val().length&&inputBlur(jQuery("#att_val_"+a)),jQuery("#att_name_"+a,"#att_val_"+a).blur(function(){inputBlur(this)}),jQuery("#att_name_"+a,"#att_val_"+a).focus(function(){inputFocus(this)});jQuery("#_spk_shortcoders_slug").val().length>0?(ShowThisSC(jQuery("#_spk_shortcoders_slug").val(),jQuery("#att_counter").val()),SCdivShow()):SCdivHide(),ListAttributesDisplayed(),(jQuery("#ppc_opt").is(":checked")||jQuery("#gpost_opt").is(":checked"))&&(jQuery("#spk_shortcoders_box_4").hasClass("hideme")&&jQuery("#spk_shortcoders_box_4").removeClass("hideme"),CheckForVisibleSelect()),jQuery("#gpost_opt").is(":checked")&&EnableDisableDropDowns("disable"),jQuery("#spk_shortcoders_box_4").hasClass("hide-if-js")&&jQuery("#spk_shortcoders_box_4").removeClass("hide-if-js")}),jQuery("#title").focusin(function(){jQuery("#title, #title-prompt-text").removeAttr("style")}),jQuery("#title").focusout(function(){if(0==jQuery(this).val().length)jQuery(this).css("background-color","#FF6347"),jQuery("#title-prompt-text").css("color","#fff"),jQuery("#this_shortcode").html("Please enter a shortcode name"),0==jQuery("#_spk_shortcoders_slug").val().length&&(SCdivHide(),jQuery("#this_shortcode_box").val(""));else if(0==jQuery("#_spk_shortcoders_slug").val().length){var a=FilterString(jQuery(this).val());jQuery("#_spk_shortcoders_slug").val(a),ShowThisSC(a,jQuery("#att_counter").val()),SCdivShow()}}),jQuery("#_spk_shortcoders_slug").on("keyup change",function(){ShowThisSC(jQuery(this).val().replace(/[-\s]/g,"_"),jQuery("#att_counter").val()),jQuery(this).val().length>0?SCdivShow():SCdivHide()}),jQuery("#_spk_shortcoders_slug").bind("keypress",function(a){PreventDefaultKeys(a)}),jQuery("#btn_copy_sc").click(function(){copyToClipboardMsg(document.getElementById("this_shortcode_box"),"msg")}),jQuery("#add_att").on("click",function(){if(jQuery("#att_counter").val().length>0)var a=parseInt(jQuery("#att_counter").val())+1;else var a=1;jQuery("#att_div_"+a).fadeIn(FadeSpeed),jQuery("#att_counter").val(a)}),jQuery("a").click(function(a){var b=a.target.id,c=b.split("_");if("rem"==c[0]){jQuery("#att_div_"+c[2]).fadeOut(FadeSpeed,function(){jQuery("#att_name_"+c[2]).val(""),jQuery("#att_val_"+c[2]).val("")});var d=parseInt(jQuery("#att_counter").val())-1;jQuery("#att_counter").val(d),ListAttributesDisplayed()}}),jQuery("[id^=att_name]").each(function(){jQuery(this).bind("keypress",function(a){PreventDefaultKeys(a)}),jQuery(this).on("keyup change",function(){ShowThisSC(jQuery("#_spk_shortcoders_slug").val(),jQuery("#att_counter").val()),ListAttributesDisplayed()})}),jQuery("[id^=att_val]").each(function(){jQuery(this).bind("keypress",function(a){PreventDefaultKeys(a)}),jQuery(this).on("keyup change",function(){ShowThisSC(jQuery("#_spk_shortcoders_slug").val(),jQuery("#att_counter").val())})}),jQuery("#spk_att_list").on("click","a",function(){if("sc_main_content"==jQuery(this).attr("id"))var a="{@content}";else var a=jQuery(this).text();insertAtCaret("_spk_shortcoders_code",a)}),jQuery("[id^=db_fields_]").each(function(){jQuery(this).on("click",function(){insertAtCaret("_spk_shortcoders_code",jQuery(this).text())})}),jQuery("#puttaxeshere").on("click","a",function(){insertAtCaret("_spk_shortcoders_code",jQuery(this).text())}),jQuery("#putcustomfieldshere").on("click","a",function(){insertAtCaret("_spk_shortcoders_code",jQuery(this).text())}),jQuery("#ppc_opt").click(function(){jQuery("#ppc_opt").is(":checked")&&jQuery("#spk_shortcoders_box_4").removeClass("hideme"),ShowHideBtnCPTClear("show"),EnableDisableDropDowns("enable"),ShowThisSC(jQuery("#_spk_shortcoders_slug").val(),jQuery("#att_counter").val())}),jQuery("#ppc_opt_text").click(function(){jQuery("#ppc_opt").is(":checked")||(jQuery("#ppc_opt").prop("checked",!0),jQuery("#spk_shortcoders_box_4").removeClass("hideme")),ShowHideBtnCPTClear("show"),EnableDisableDropDowns("enable"),ShowThisSC(jQuery("#_spk_shortcoders_slug").val(),jQuery("#att_counter").val())}),jQuery("#gpost_opt").on("click",function(){jQuery(this).is(":checked")&&jQuery("#spk_shortcoders_box_4").removeClass("hideme"),ShowHideBtnCPTClear("show"),EnableDisableDropDowns("disable"),ShowThisSC(jQuery("#_spk_shortcoders_slug").val(),jQuery("#att_counter").val())}),jQuery("#gpost_opt_text").on("click",function(){jQuery("#gpost_opt").is(":checked")||(jQuery("#gpost_opt").prop("checked",!0),jQuery("#spk_shortcoders_box_4").removeClass("hideme")),ShowHideBtnCPTClear("show"),EnableDisableDropDowns("disable"),ShowThisSC(jQuery("#_spk_shortcoders_slug").val(),jQuery("#att_counter").val())}),jQuery("#cpt_clear").on("click",function(){ShowHideBtnCPTClear("hide"),jQuery('input[name="cb_ppc_opt"]').each(function(){jQuery(this).prop("checked",!1)}),jQuery("#spk_shortcoders_box_4").hasClass("hideme")||jQuery("#spk_shortcoders_box_4").addClass("hideme"),ShowThisSC(jQuery("#_spk_shortcoders_slug").val(),jQuery("#att_counter").val())}),jQuery("#dtm_post_type").on("change",function(){if("default_value"!=jQuery("#dtm_post_type").val()){HideOthersBut("#dt_"+jQuery("#dtm_post_type").val().split("#dt_")[0]),jQuery("#db_colnames").hasClass("hideme")&&jQuery("#db_colnames").removeClass("hideme")}else HideOthersBut(),jQuery("#db_colnames").hasClass("hideme")||jQuery("#db_colnames").addClass("hideme")}),jQuery("[id^=dt_]").each(function(){jQuery(this).on("change",function(){ListCustomFields(jQuery(this).val()),ListTaxonomies(jQuery(this).val())})});